<% title('My Cards') %>

<%= javascript_tag "window._token = '#{form_authenticity_token}'" %>
<%= render 'form', url: my_cards_path %>
<div class="d-flex justify-content-between align-items-end mb-2">
  <div>
    <%= link_to 'Select Your Cards', select_cards_path,
      class: "btn btn-secondary btn-sm#{' btn-attention' if @user_cards.empty?}" %>
  </div>
  <div class="d-flex align-items-center">
    <label for="toggle-owned" class="mb-0 mr-1">Hide Owned</label>
    <input type="checkbox" id="toggle-owned" />
  </div>
</div>
<%= render 'layouts/progress', value: @count, min: 0, max: @total %>
<table class="table table-striped table-sm shadow p-3 mt-2 mb-5 sortable" id="my-cards">
  <thead>
    <tr>
      <th scope="col">#</th> <!-- Image -->
      <th scope="col" class="hide-xs">Name</th>
      <th scope="col" class="pr-3">Type</th>
      <th scope="col">Rarity</th>
      <th scope="col" class="text-center">Stats</th>
      <th scope="col" class="hide-xs">Source</th>
      <th scope="col" class="text-center hide-xs">Owned</th>
      <th scope="col" class="text-center">Patch</th>
      <th scope="col" class="text-center" data-defaultsort="disabled"></th> <!-- Checkbox -->
    </tr>
  </thead>
  <tbody>
    <%= render 'table_data', cards: @cards, user_cards: @user_cards, ownership: @ownership %>
  </tbody>
</table>
